

<!DOCTYPE html>
<html class="writer-html4" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Teflo Quickstart &mdash; Teflo 0.1.2 documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/theme_override.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript">
          var DOCUMENTATION_OPTIONS = {
              URL_ROOT:'../',
              VERSION:'0.1.2',
              LANGUAGE:'None',
              COLLAPSE_INDEX:false,
              FILE_SUFFIX:'.html',
              HAS_SOURCE:  true,
              SOURCELINK_SUFFIX: '.txt'
          };
      </script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Scenario Descriptor" href="scenario_descriptor.html" />
    <link rel="prev" title="User’s Guide" href="index.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home" alt="Documentation Home"> Teflo
          

          
          </a>

          
            
            
              <div class="version">
                0.1.2
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Installation &amp; Configuration</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="install.html">Install Teflo</a></li>
<li class="toctree-l1"><a class="reference internal" href="configuration.html">Configure Teflo</a></li>
</ul>
<p class="caption"><span class="caption-text">Using Teflo</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">User’s Guide</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">Teflo Quickstart</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#teflo-usage">Teflo Usage</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#run">Run</a></li>
<li class="toctree-l4"><a class="reference internal" href="#validate">Validate</a></li>
<li class="toctree-l4"><a class="reference internal" href="#notify">Notify</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#getting-started-examples">Getting Started Examples</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#provision">Provision</a></li>
<li class="toctree-l4"><a class="reference internal" href="#orchestrate">Orchestrate</a></li>
<li class="toctree-l4"><a class="reference internal" href="#execute">Execute</a></li>
<li class="toctree-l4"><a class="reference internal" href="#report">Report</a></li>
<li class="toctree-l4"><a class="reference internal" href="#resource-check">Resource_check</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="index.html#detailed-information">Detailed Information</a></li>
</ul>
<p class="caption"><span class="caption-text">Teflo Development</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../developers/index.html">Developer’s Guide</a></li>
</ul>
<p class="caption"><span class="caption-text">References</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../glossary.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../changelog.html">Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contact.html">Contacts</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Teflo</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="index.html">User’s Guide</a> &raquo;</li>
        
      <li>Teflo Quickstart</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/users/quickstart.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="teflo-quickstart">
<h1>Teflo Quickstart<a class="headerlink" href="#teflo-quickstart" title="Permalink to this headline">¶</a></h1>
<p>Welcome to the teflo quick start guide! This guide will help get you started
with using teflo. This guide is broken down into two sections:</p>
<ol class="arabic simple">
<li>Teflo Usage</li>
<li>Getting Started Examples</li>
</ol>
<p>Teflo usage will provide you with an overview of how you can call teflo.
It can be called from either a command line or invoked within a Python
module. The getting started examples section will show you working examples
for each teflo task. Each example is stored within a git repository for you
to clone and try in your local environment.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">At this point, you should already have teflo installed and configured.
If not, please view the <a class="reference external" href="install.html">install</a> guide and the
<a class="reference external" href="configuration.html">configuration</a> guide.</p>
</div>
<hr class="docutils" />
<div class="section" id="teflo-usage">
<h2>Teflo Usage<a class="headerlink" href="#teflo-usage" title="Permalink to this headline">¶</a></h2>
<p>Once teflo is installed, you can run the teflo command to view its options:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># OUTPUT MAY VARY BETWEEN RELEASES</span>

$ teflo
Usage: teflo <span class="o">[</span>OPTIONS<span class="o">]</span> COMMAND <span class="o">[</span>ARGS<span class="o">]</span>...

  Teflo - Interoperability Testing Framework

Options:
  -v, --verbose  Add verbosity to the commands.
  --version      Show the version and exit.
  --help         Show this message and exit.

Commands:
  notify    Trigger notifications <span class="k">for</span> a scenario configuration on demand.
  run       Run a scenario configuration.
  validate  Validate a scenario configuration.
</pre></div>
</div>
<div class="section" id="run">
<h3>Run<a class="headerlink" href="#run" title="Permalink to this headline">¶</a></h3>
<p>The run command will run your scenario descriptor executing all tasks you
select. Below are the available run command options.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># OUTPUT MAY VARY BETWEEN RELEASES</span>

$ teflo run --help
Usage: teflo run <span class="o">[</span>OPTIONS<span class="o">]</span>

  Run a scenario configuration.

Options:
  -t, --task <span class="o">[</span>validate<span class="p">|</span>provision<span class="p">|</span>orchestrate<span class="p">|</span>execute<span class="p">|</span>report<span class="p">|</span>cleanup<span class="o">]</span>
                                  Select task to run. <span class="o">(</span><span class="nv">default</span><span class="o">=</span>all<span class="o">)</span>
  -s, --scenario                  Scenario definition file to be executed.
  -d, --data-folder               Directory <span class="k">for</span> saving teflo runtime files.
  -w, --workspace                 Scenario workspace.
  --log-level <span class="o">[</span>debug<span class="p">|</span>info<span class="o">]</span>        Select logging level. <span class="o">(</span><span class="nv">default</span><span class="o">=</span>info<span class="o">)</span>
  --vars-data                     Pass in variable data to template the
                                  scenario. Can be a file or raw json.
  -l, --labels                    Use only the resources associated with
                                  labels <span class="k">for</span> running the tasks. labels and
                                  skip_labels are mutually exclusive
  -sl, --skip-labels              Skip the resources associated with
                                  skip_labels <span class="k">for</span> running the tasks. labels
                                  and skip_labels are mutually exclusive
  -sn, --skip-notify              Skip triggering the specific notification
                                  defined <span class="k">for</span> the scenario.
  -nn, --no-notify                Disable sending any notifications defined <span class="k">for</span>
                                  the scenario.
  --help                          Show this message and exit.
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If ‘Include’ section is present in the scenario file, teflo will aggregate and execute
the selected tasks from both, main/parent and the included scenario file. e.g.
if common.yml is the included scenario file, scenario.yml is the main scenario file
and task selected is provision,the provision pipeline is created with provision tasks
from included scenario followed by the provision tasks from main scenario.</p>
</div>
<hr class="docutils" />
<table border="1" class="colwidths-auto docutils">
<thead valign="bottom">
<tr class="row-odd"><th class="head">Option</th>
<th class="head">Description</th>
<th class="head">Required</th>
<th class="head">Default</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>task</td>
<td>Defines which teflo task to execute the scenario against.</td>
<td>No</td>
<td>All tasks</td>
</tr>
<tr class="row-odd"><td>scenario</td>
<td>This is the scenario descriptor filename. It can be either a relative
or absoluate path to the file.</td>
<td>Yes</td>
<td>N/A</td>
</tr>
<tr class="row-even"><td>data-folder</td>
<td>The data folder is where all teflo runs are stored. Every teflo
run will create a unique folder for that run to store its output. By
default teflo uses /tmp as the data folder to create sub folders for
each run. You can override this to define the base data folder.</td>
<td>No</td>
<td>/tmp</td>
</tr>
<tr class="row-odd"><td>workspace</td>
<td>The scenario workspace is the directory where your scenario exists.
Inside this directory is all the necessary files to run the
scenario.</td>
<td>No</td>
<td>./ (current working directory)</td>
</tr>
<tr class="row-even"><td>log-level</td>
<td>The log level defines the logging level for messages to be logged.</td>
<td>No</td>
<td>Info</td>
</tr>
</tbody>
</table>
<p>To run your scenario executing all given tasks, run the following command:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ teflo run --scenario &lt;scenario&gt;
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">yaml</span> <span class="kn">import</span> <span class="n">safe_load</span>
<span class="kn">from</span> <span class="nn">teflo</span> <span class="kn">import</span> <span class="n">Teflo</span>

<span class="n">cbn</span> <span class="o">=</span> <span class="n">Teflo</span><span class="p">(</span><span class="s1">&#39;teflo&#39;</span><span class="p">)</span>

<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;&lt;scenario&gt;, &#39;</span><span class="sa">r</span><span class="s1">&#39;) as f:</span>
    <span class="n">cbn</span><span class="o">.</span><span class="n">load_from_yaml</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">safe_load</span><span class="p">(</span><span class="n">f</span><span class="p">)))</span>

<span class="n">cbn</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</pre></div>
</div>
<p>You have the ability to only run a selected task. You can do this by the
following command:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># individual task</span>
$ teflo run --scenario &lt;scenario&gt; --task &lt;task&gt;

<span class="c1"># multiple tasks</span>
$ teflo run --scenario &lt;scenario&gt; --task &lt;task&gt; --task &lt;task&gt;
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">yaml</span> <span class="kn">import</span> <span class="n">safe_load</span>
<span class="kn">from</span> <span class="nn">teflo</span> <span class="kn">import</span> <span class="n">Teflo</span>

<span class="n">cbn</span> <span class="o">=</span> <span class="n">Teflo</span><span class="p">(</span><span class="s1">&#39;teflo&#39;</span><span class="p">)</span>

<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;&lt;scenario&gt;, &#39;</span><span class="sa">r</span><span class="s1">&#39;) as f:</span>
    <span class="n">cbn</span><span class="o">.</span><span class="n">load_from_yaml</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">safe_load</span><span class="p">(</span><span class="n">f</span><span class="p">)))</span>

<span class="c1"># individual task</span>
<span class="n">cbn</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">tasklist</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;task&#39;</span><span class="p">])</span>

<span class="c1"># multiple tasks</span>
<span class="n">cbn</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">tasklist</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;task&#39;</span><span class="p">,</span> <span class="s1">&#39;task&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="section" id="validate">
<h3>Validate<a class="headerlink" href="#validate" title="Permalink to this headline">¶</a></h3>
<p>The validate command validates the scenario descriptor.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ teflo validate --help
Usage: teflo validate <span class="o">[</span>OPTIONS<span class="o">]</span>

  Validate a scenario configuration.

Options:
  -t, --task <span class="o">[</span>validate<span class="p">|</span>provision<span class="p">|</span>orchestrate<span class="p">|</span>execute<span class="p">|</span>report<span class="p">|</span>cleanup<span class="o">]</span>
                                  Select task to run. <span class="o">(</span><span class="nv">default</span><span class="o">=</span>all<span class="o">)</span>
  -s, --scenario                  Scenario definition file to be executed.
  -d, --data-folder               Directory <span class="k">for</span> saving teflo runtime files.
  -w, --workspace                 Scenario workspace.
  --log-level <span class="o">[</span>debug<span class="p">|</span>info<span class="o">]</span>        Select logging level. <span class="o">(</span><span class="nv">default</span><span class="o">=</span>info<span class="o">)</span>
  --vars-data                     Pass in variable data to template the
                                  scenario. Can be a file or raw json.
  -l, --labels                    Use only the resources associated with
                                  labels <span class="k">for</span> running the tasks. labels and
                                  skip_labels are mutually exclusive
  -sl, --skip-labels              Skip the resources associated with
                                  skip_labels <span class="k">for</span> running the tasks. labels
                                  and skip_labels are mutually exclusive
  -sn, --skip-notify              Skip triggering the specific notification
                                  defined <span class="k">for</span> the scenario.
  -nn, --no-notify                Disable sending any notifications defined <span class="k">for</span>
                                  the scenario.
  --help                          Show this message and exit.
</pre></div>
</div>
</div>
<div class="section" id="notify">
<h3>Notify<a class="headerlink" href="#notify" title="Permalink to this headline">¶</a></h3>
<p>Trigger notifications marked on demand for a scenario configuration.</p>
<p>This is useful when there is a break in the workflow, between when the scenario
completes and the triggering of the notification.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>teflo notify --help
Usage: teflo notify <span class="o">[</span>OPTIONS<span class="o">]</span>

    Trigger notifications marked on demand <span class="k">for</span> a scenario configuration.

Options:
    -s, --scenario            Scenario definition file to be executed.
    -d, --data-folder         Directory <span class="k">for</span> saving teflo runtime files.
    -w, --workspace           Scenario workspace.
    --log-level <span class="o">[</span>debug<span class="p">|</span>info<span class="o">]</span>  Select logging level. <span class="o">(</span><span class="nv">default</span><span class="o">=</span>info<span class="o">)</span>
    --vars-data               Pass in variable data to template the scenario.
                              Can be a file or raw json.
    -sn, --skip-notify        Skip triggering the specific notification
                              defined <span class="k">for</span> the scenario.
    -nn, --no-notify          Disable sending any notifications defined <span class="k">for</span> the
                              scenario.
    --help                    Show this message and exit.
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>teflo notify -s data_folder/.results/results.yml -w .
</pre></div>
</div>
</div>
</div>
<div class="section" id="getting-started-examples">
<h2>Getting Started Examples<a class="headerlink" href="#getting-started-examples" title="Permalink to this headline">¶</a></h2>
<p>This section contains examples to help get you started with teflo. A
separate <a class="reference external" href="https://github.com/RedHatQE/teflo_examples.git">examples</a>
repository contains all the examples that will be covered below. Please clone
this repository into your local environment to use.</p>
<div class="section" id="provision">
<h3>Provision<a class="headerlink" href="#provision" title="Permalink to this headline">¶</a></h3>
<p>Please visit the following <a class="reference external" href="https://github.com/RedHatQE/teflo_examples/tree/master/provision">page</a>
for complete examples on using provision task.</p>
</div>
<div class="section" id="orchestrate">
<h3>Orchestrate<a class="headerlink" href="#orchestrate" title="Permalink to this headline">¶</a></h3>
<p>Please visit the following <a class="reference external" href="https://github.com/RedHatQE/teflo_examples/tree/master/orchestrate">page</a>
for complete examples on using teflos orchestrate task.</p>
</div>
<div class="section" id="execute">
<h3>Execute<a class="headerlink" href="#execute" title="Permalink to this headline">¶</a></h3>
<p>Please visit the following <a class="reference external" href="https://github.com/RedHatQE/teflo_examples/tree/master/execute">page</a>
for complete examples on using teflos execute task.</p>
</div>
<div class="section" id="report">
<h3>Report<a class="headerlink" href="#report" title="Permalink to this headline">¶</a></h3>
<p>Please visit the following <a class="reference external" href="https://github.com/RedHatQE/teflo_examples/tree/master/report">page</a>
for complete examples on using teflos report task.</p>
</div>
<div class="section" id="resource-check">
<h3>Resource_check<a class="headerlink" href="#resource-check" title="Permalink to this headline">¶</a></h3>
<p>Please visit the following <a class="reference external" href="https://github.com/RedHatQE/teflo_examples/tree/master/resource_check">page</a>
for complete examples on using teflos resource_check option.</p>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="scenario_descriptor.html" class="btn btn-neutral float-right" title="Scenario Descriptor" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="index.html" class="btn btn-neutral float-left" title="User’s Guide" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020, Red Hat Inc.

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>